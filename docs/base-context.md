# SASS-BEM - База и контекст

При использовании классического разделения на файлы по БЭМ, под каждый блок, элемент, и модификатор выделяется отдельный файл реализации. Таким образом, css-код под каждую сущность пишется в отдельном файле, и практически всегда этот файл начинается с селектора сущности. Тем не менее, реализация не ограничивается одним селектором: также может присутсвовать реализация расположения вложенных элементов, псевдоклассы, псевдоселекторы и т.д., но все они так или иначе связаны с селектором сущности.

В sass-bem такой селектор принято называть основным, или базовым селектором (далее основа, база). Как правило, вложенность в sass позволяет не повторять данный селектор, и вкладывать все производные селекторы в него. Также, база имеет ряд особенностей, о них позже. Для объявления базы в sass-bem есть миксин `base`, который принимает `entity` - с него рекомендуется начинать каждый файл.

Селекторы БЭМ-сущностей используются и за пределами файлов реализаций этих сущностей. Например, это позиционирование элемента в реализации блока, либо стили элемента для модификатора блока. Селектор сущности, описанный вне своего "родного" файла, называется контекстным селектором. Важный момент: контекст всегда приоритетнее базы.

В sass-bem, любой из миксинов `block`, `elem`, `mod`, куда-либо вложенный, зачастую является контекстным селектором. Также есть миксин `context`, который по сути является сокращением для вышеназванных миксинов.

Миксин `base` гарантирует, что любой вложенный селектор будет контекстным. Для этого он отменяет любые комбинации, делая вложенность приоритетнее. Например:

```
+base((block: test))
	+elem(inside)
		height: 50px
+base((block: test, elem: inside))
	height: 40px
```

```
.test .test__inside {height: 50px}
.test__inside {height: 40px}
```

Таким образом, база становится легко переопределяемой. Однако, не стоит злоупотреблять контекстными селекторами - лучше использовать их только для внешнего позиционирования, либо использовать пресеты.

База также является "опорной точкой" для многих дополнительных функций. Например, переменные при использовании отдают приоритет базе, как префиксу для имени. Помимо них, еще многие вещи, работающие по схеме "объявление - использование", используют текущий контекст при объявлении, и базу при использовании.